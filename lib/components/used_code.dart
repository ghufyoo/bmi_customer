//  final toppingCENDOL = [
//     CheckboxState(
//         title: 'Extra Isi Cendol', subtitle: 'PERCUMA', price: 0, duplicate: 2),
//     CheckboxState(
//         title: 'Extra Kacang',
//         subtitle: 'TAMBAH 50sen',
//         price: 0.5,
//         duplicate: 3),
//     CheckboxState(
//         title: 'Extra Jagung',
//         subtitle: 'TAMBAH 50sen',
//         price: 0.5,
//         duplicate: 6),
//     CheckboxState(
//         title: 'Pulut', subtitle: 'TAMBAH 50sen', price: 0.5, duplicate: 0),
//     CheckboxState(
//         title: 'Durian', subtitle: 'TAMBAH RM 3', price: 3.0, duplicate: 0),
//     CheckboxState(
//         title: 'Nestum', subtitle: 'TAMBAH 50sen', price: 0.5, duplicate: 0),
//     CheckboxState(
//         title: 'Ground Nut',
//         subtitle: 'TAMBAH 50sen',
//         price: 0.5,
//         duplicate: 0),
//     CheckboxState(
//         title: 'Ice Cream Vanilla',
//         subtitle: 'TAMBAH RM 1',
//         price: 1.0,
//         duplicate: 0),
//     CheckboxState(
//         title: 'Ice Cream Gula Melaka',
//         subtitle: 'TAMBAH RM1',
//         price: 1.0,
//         duplicate: 0),
//     CheckboxState(
//         title: 'Tak Nak Isi Cendol',
//         subtitle: 'Macam Cendol tanpa Cendol',
//         price: 0,
//         duplicate: 2),
//     CheckboxState(
//         title: 'Tak Nak Kacang',
//         subtitle: 'Kacang Jagung Percuma',
//         price: 0,
//         duplicate: 3),
//     CheckboxState(
//         title: 'Tak Nak Jagung',
//         subtitle: 'Kacang Jagung Percuma',
//         price: 0,
//         duplicate: 6),
//   ];
//   final toppingABC = [
//     CheckboxState(
//         title: 'Extra Isi Cendol', subtitle: 'PERCUMA', price: 0, duplicate: 1),
//     CheckboxState(
//         title: 'Extra Kacang',
//         subtitle: 'TAMBAH 50sen',
//         price: 0.5,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Extra Jagung',
//         subtitle: 'TAMBAH 50sen',
//         price: 0.5,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Extra Jelly',
//         subtitle: 'TAMBAH 50sen',
//         price: 0.5,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Extra Cincau',
//         subtitle: 'TAMBAH 50sen',
//         price: 0.5,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Pulut', subtitle: 'TAMBAH 50sen', price: 0.5, duplicate: 1),
//     CheckboxState(
//         title: 'Durian', subtitle: 'TAMBAH RM 3', price: 3.0, duplicate: 1),
//     CheckboxState(
//         title: 'Nestum', subtitle: 'TAMBAH 50sen', price: 0.5, duplicate: 1),
//     CheckboxState(
//         title: 'Ground Nut',
//         subtitle: 'TAMBAH 50sen',
//         price: 0.5,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Ice Cream Vanilla',
//         subtitle: 'TAMBAH RM 1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Ice Cream Gula Melaka',
//         subtitle: 'TAMBAH RM1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Tak Nak Isi Cendol',
//         subtitle: 'Macam Cendol tanpa Cendol',
//         price: 0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Tak Nak Kacang',
//         subtitle: 'Kacang Jagung Jelly Cincau Percuma Untuk ABC',
//         price: 0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Tak Nak Jagung',
//         subtitle: 'Kacang Jagung Jelly Cincau Percuma Untuk ABC',
//         price: 0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Tak Nak Jelly',
//         subtitle: 'Kacang Jagung Jelly Cincau Percuma Untuk ABC',
//         price: 0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Tak Nak Cincau',
//         subtitle: 'Kacang Jagung Jelly Cincau Percuma Untuk ABC',
//         price: 0,
//         duplicate: 1),
//   ];
//   final toppingSirapLemonTea = [
//     CheckboxState(
//         title: 'Isi Cendol', subtitle: 'PERCUMA', price: 0, duplicate: 1),
//     CheckboxState(
//         title: 'Limau', subtitle: 'Tambah 50sen', price: 0.5, duplicate: 1),
//     CheckboxState(
//         title: 'Cincau', subtitle: 'Tambah 50sen', price: 0.5, duplicate: 1),
//     CheckboxState(
//         title: 'Jelly', subtitle: 'Tambah 50sen', price: 0.5, duplicate: 1),
//     CheckboxState(
//         title: 'Pulut', subtitle: 'TAMBAH 50sen', price: 0.5, duplicate: 1),
//     CheckboxState(
//         title: 'Durian', subtitle: 'TAMBAH RM 3', price: 3.0, duplicate: 1),
//     CheckboxState(
//         title: 'Nestum', subtitle: 'TAMBAH 50sen', price: 0.5, duplicate: 1),
//     CheckboxState(
//         title: 'Ground Nut',
//         subtitle: 'TAMBAH 50sen',
//         price: 0.5,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Ice Cream Vanilla',
//         subtitle: 'TAMBAH RM 1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Ice Cream Gula Melaka',
//         subtitle: 'TAMBAH RM1',
//         price: 1.0,
//         duplicate: 1),
//   ];
//   final toppingMamuGoreng = [
//     CheckboxState(
//         title: 'Telur Mata', subtitle: 'Tambah RM1', price: 1.0, duplicate: 1),
//     CheckboxState(
//         title: 'Telur Mata Cair',
//         subtitle: 'Tambah RM1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Telur Mata Garing',
//         subtitle: 'Tambah RM1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Telur Dadar', subtitle: 'TAMBAH RM1', price: 1.0, duplicate: 1),
//     CheckboxState(
//         title: 'Telur Rebus', subtitle: 'TAMBAH RM1', price: 1.0, duplicate: 1),
//     CheckboxState(
//         title: 'Extra Kuah Rojak',
//         subtitle: 'TAMBAH RM1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Extra Sayur', subtitle: 'Tiada Caj', price: 0, duplicate: 1),
//     CheckboxState(
//         title: 'Tak Nak Sayur', subtitle: 'Tiada Caj', price: 0, duplicate: 1),
//     CheckboxState(
//         title: 'Tambah Sos Cili',
//         subtitle: 'Tiada Caj',
//         price: 0,
//         duplicate: 1),
//   ];
//   final toppingMamuRojak = [
//     CheckboxState(
//         title: 'Extra Telur Rebus',
//         subtitle: 'TAMBAH RM1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Telur Mata', subtitle: 'Tambah RM1', price: 1.0, duplicate: 1),
//     CheckboxState(
//         title: 'Telur Mata Cair',
//         subtitle: 'Tambah RM1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Telur Mata Garing',
//         subtitle: 'Tambah RM1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Telur Dadar', subtitle: 'TAMBAH RM1', price: 1.0, duplicate: 1),
//     CheckboxState(
//         title: 'Extra Kuah Rojak',
//         subtitle: 'TAMBAH RM1',
//         price: 1.0,
//         duplicate: 1),
//   ];
//   final toppingRamen = [
//     CheckboxState(
//         title: 'Telur Mata', subtitle: 'Tambah RM1', price: 1.0, duplicate: 1),
//     CheckboxState(
//         title: 'Telur Mata Cair',
//         subtitle: 'Tambah RM1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Telur Mata Garing',
//         subtitle: 'Tambah RM1',
//         price: 1.0,
//         duplicate: 1),
//     CheckboxState(
//         title: 'Telur Dadar', subtitle: 'TAMBAH RM1', price: 1.0, duplicate: 1),
//     CheckboxState(
//         title: 'Telur Rebus', subtitle: 'TAMBAH RM1', price: 1.0, duplicate: 1),
//   ];

//CHECKBOX BUILDER
// Widget buildCheckCendol(CheckboxState checkboxState) => Theme(
//         data: ThemeData(unselectedWidgetColor: Colors.white),
//         child: CheckboxListTile(
//             checkColor: Colors.teal,
//             //selectedTileColor: Colors.teal,
//             activeColor: Colors.white,
//             value: checkboxState.value,
//             title: Text(
//               checkboxState.title,
//               style: kDetailMenuTextStyle,
//             ),
//             subtitle: Text(
//               checkboxState.subtitle,
//               style: const TextStyle(
//                   fontFamily: 'Roboto',
//                   fontWeight: FontWeight.bold,
//                   fontSize: 14,
//                   color: Colors.white),
//             ),
//             onChanged: (value) {
//               if (value == true) {
//                 werty = werty + checkboxState.duplicate;
//                 cart[checkboxState.title] = checkboxState.price;
//                 widget.price += checkboxState.price;
//                 print(cart);
//               }

//               setState(() {
//                 checkboxState.value = value!;
//                 if (cart.containsKey('Tak Nak Isi Cendol') &&
//                     cart.containsKey('Extra Isi Cendol')) {
//                   Get.snackbar('Masalah Pemilihan',
//                       'Sila Perbetulkan Pilihan topping Anda');
//                   Get.to(const MenuScreen());
//                 } else if (cart.containsKey('Tak Nak Kacang') &&
//                     cart.containsKey('Extra Kacang')) {
//                   Get.snackbar('Masalah Pemilihan',
//                       'Sila Perbetulkan Pilihan topping Anda');
//                   Get.to(const MenuScreen());
//                 } else if (cart.containsKey('Tak Nak Jagung') &&
//                     cart.containsKey('Extra Jagung')) {
//                   Get.snackbar('Masalah Pemilihan',
//                       'Sila Perbetulkan Pilihan topping Anda');
//                   Get.to(const MenuScreen());
//                 } else if (cart.containsKey('Tak Nak Jelly') &&
//                     cart.containsKey('Extra Jelly')) {
//                   Get.snackbar('Masalah Pemilihan',
//                       'Sila Perbetulkan Pilihan topping Anda');
//                   Get.to(const MenuScreen());
//                 } else if (cart.containsKey('Tak Nak Cincau') &&
//                     cart.containsKey('Extra Cincau')) {
//                   Get.snackbar('Masalah Pemilihan',
//                       'Sila Perbetulkan Pilihan topping Anda');
//                   Get.to(const MenuScreen());
//                 }
//                 if (checkboxState.value == false) {
//                   print(checkboxState.price);
//                   print(widget.price);
//                   cart.removeWhere((key, value) => key == checkboxState.title);

//                   widget.price -= checkboxState.price;
//                 }
//               });
//             }),
//       );

//CHECKBOX BUILDER IN CLASS
// class CheckTop extends StatefulWidget {
//   CheckTop({
//     Key? key,
//     required this.title,
//     required this.desc,
//     required this.chosenSizes,
//     required this.checkboxprice,
//     required this.selectedPrice,
//     required this.switches,
//     required this.cart,
//   }) : super(key: key);

//   final String title;
//   final String desc;
//   final String chosenSizes;
//   final num checkboxprice;
//   num selectedPrice;
//   final num switches;
//   final Map<String, num> cart;

//   @override
//   State<CheckTop> createState() => _CheckTopState();
// }

// class _CheckTopState extends State<CheckTop> {
//   @override
//   Widget build(BuildContext context) {
//     return ListTile(
//       title: Text(
//         widget.title,
//         style: const TextStyle(
//             fontFamily: 'Roboto',
//             fontWeight: FontWeight.bold,
//             fontSize: 19,
//             color: Colors.white),
//       ),
//       subtitle: Text(
//         widget.desc,
//         style: const TextStyle(
//             fontFamily: 'Roboto',
//             fontWeight: FontWeight.bold,
//             fontSize: 14,
//             color: Colors.white),
//       ),
//       trailing: Checkbox(
//           value: selected,
//           onChanged: _type != Makansini.none
//               ? (bool? val) {
//                   if (val == true) {
//                     widget.cart[widget.title] = widget.checkboxprice;
//                     widget.selectedPrice += widget.checkboxprice;

//                     print(widget.cart);
//                     print(widget.selectedPrice);
//                   }
//                   setState(() {
//                     selected = val!;

//                     if (selected == false) {
//                       print(widget.checkboxprice);

//                       widget.cart
//                           .removeWhere((key, value) => key == widget.title);

//                       widget.selectedPrice -= widget.checkboxprice;
//                       print(widget.selectedPrice);
//                     }
//                   });
//                 }
//               : (bool? val) {
//                   Get.snackbar(
//                       'Sila Pilih Pilihan Di Atas Terlebih Dahulu', '');
//                 }),
//     );
//   }
// }

     // Column(
        //   children: [
        //     SizedBox(
        //       height: screenSize.height / 2,
        //       width: screenSize.width * 0.9,
        //       child: StreamBuilder<QuerySnapshot<Map<String, dynamic>>>(
        //         stream: FirestoreController.instance.firebaseFirestore
        //             .collection('Topping')
        //             .where('switches', isEqualTo: widget.switches)
        //             .snapshots(),
        //         builder: (context, snapshot) {
        //           if (!snapshot.hasData) {
        //             return Center(
        //               child: LoadingAnimationWidget.newtonCradle(
        //                   color: Colors.white, size: 85),
        //             );
        //           }
        //           final docs = snapshot.data!.docs;
        //           return ListView.builder(
        //             itemCount: docs.length,
        //             itemBuilder: (_, i) {
        //               final data = docs[i].data();
        //               return CheckTop(
        //                 title: data['name'],
        //                 desc: data['desc'],
        //                 chosenSizes: chosenSize,
        //                 checkboxprice: data['price'],
        //                 selectedPrice: widget.price,
        //                 switches: widget.switches,
        //                 cart: cart,
        //               );
        //               // return ListTile(
        //               //   title: Text(
        //               //     data['name'],
        //               //     style: const TextStyle(
        //               //         fontFamily: 'Roboto',
        //               //         fontWeight: FontWeight.bold,
        //               //         fontSize: 14,
        //               //         color: Colors.white),
        //               //   ),
        //               //   subtitle: Text(
        //               //     data['desc'],
        //               //     style: const TextStyle(
        //               //         fontFamily: 'Roboto',
        //               //         fontWeight: FontWeight.bold,
        //               //         fontSize: 14,
        //               //         color: Colors.white),
        //               //   ),
        //               //   trailing: Checkbox(
        //               //     value: test,
        //               //     onChanged: (value) {
        //               //       if (value == true) {
        //               //         cart[data['name']] = data['price'];
        //               //         widget.price += data['price'];
        //               //         print(cart);
        //               //       }

        //               //       setState(() {
        //               //         test = value;
        //               //       });
        //               //     },
        //               //   ),
        //               // );
        //             },
        //           );
        //         },
        //       ),
        //     ),
        //   ],
        // ),

            //DOWN WORKS
        // SizedBox(
        //   height: screenSize.height / 2,
        //   width: screenSize.width * 0.9,
        //   child: Scrollbar(
        //     controller: _firstController,
        //     isAlwaysShown: true,
        //     trackVisibility: true,
        //     child: ListView(
        //       controller: _firstController,
        //       padding: const EdgeInsets.all(12),
        //       children: [
        //         ...toppingCENDOL.map(buildCheckCendol).toList(),
        //       ],
        //     ),
        //   ),
        // ),

         // ? SizedBox(
                                        //     width: screenSize.width / 3,
                                        //     child: ListView.builder(
                                        //         shrinkWrap: true,
                                        //         itemCount:
                                        //             widget.menuTopping.length,
                                        //         itemBuilder: (context, i) {
                                        //           return SizedBox(
                                        //             width: screenSize.width / 2,
                                        //             child: Text(
                                        //               '${widget.menuTopping[i]}',
                                        //               softWrap: true,
                                        //               maxLines: 6,
                                        //               textAlign:
                                        //                   TextAlign.start,
                                        //               style: TextStyle(
                                        //                   fontFamily: 'Roboto',
                                        //                   fontWeight:
                                        //                       FontWeight.bold,
                                        //                   fontSize: 14,
                                        //                   color: Colors
                                        //                       .grey.shade700),
                                        //             ),
                                        //           );
                                        //         }),
                                        //   )